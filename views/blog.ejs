<%- include('partials/header') %>

  <%# Specific container for the blog list content %>
    <main class="blog-list-main main-content-area"
      style="display: block; max-width: 800px; margin: var(--spacing-lg) auto;">

      <h1>Recent Posts</h1>
      <hr style="margin-bottom: var(--spacing-xl);">

      <% if (posts && posts.length> 0) { %>

        <% posts.forEach(post=> { %>
          <article class="card blog-post-summary" style="margin-bottom: var(--spacing-xl);">

            <h2>
              <%= post.title %>
            </h2>

            <% if (post.createdAt) { %>
              <p class="post-meta"
                style="font-size: 0.85em; color: var(--text-muted-light-mode); margin-bottom: var(--spacing-md);">
                Published on <%= post.createdAt.toLocaleDateString('en-US', { year: 'numeric' , month: 'long' ,
                  day: 'numeric' }) %>
              </p>
              <% } %>

                <% if (post.snippet) { %>
                  <p style="margin-bottom: var(--spacing-md);">
                    <%= post.snippet %>
                  </p>
                  <% } %>

                    <a href="/blog/<%= post.id %>" class="cta-button tertiary blog-read-more"
                      style="text-align: right; display: block;">
                      Read More &rarr;
                    </a>

          </article>
          <% }); %>

            <% } else { %>
              <p>No blog posts have been published yet.</p>
              <% } %>

    </main>

    <%- include('partials/footer') %>